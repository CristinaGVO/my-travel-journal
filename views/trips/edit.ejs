<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Editing <%= trip.destination %>
    </title>
</head>

<body>

    <%- include('../partials/_navbar.ejs') %>
        <h1>Edit <%= trip.destination %> at <%= trip.location %>
        </h1>

        <form action="/users/<%= user._id %>/trips/<%= trip._id %>?_method=PUT" 
        method="POST"

        <label for="destination">Destination:</label>
        <input type="text" id="destination" name="destination" value="<%= trip.destination %>" required />


        <label for="location">Location:</label>
        <input type="text" id="location" name="location" placeholder="City, Country or State"
            value="<%= trip.location %>" required />


        <label for="tripType">Trip type:</label>
        <select id="tripType" name="tripType">
            <option value="">-- Select type --</option>

            <option value="roadtrip" <%=trip.tripType==='roadtrip' ? 'selected' : '' %>
                >
                Roadtrip
            </option>

            <option value="hiking" <%=trip.tripType==='hiking' ? 'selected' : '' %>
                >
                Hiking
            </option>

            <option value="city" <%=trip.tripType==='city' ? 'selected' : '' %>
                >
                City
            </option>

            <option value="beach" <%=trip.tripType==='beach' ? 'selected' : '' %>
                >
                Beach
            </option>

            <option value="other" <%=trip.tripType==='other' ? 'selected' : '' %>
                >
                Other
            </option>

        </select>

        <label for="startDate">Start date:</label>
        <input type="date" id="startDate" name="startDate" value="<%= trip.startDate ? trip.startDate.toISOString().slice(0,10) : '' %>" />

        <label for="endDate">End date:</label>
        <input type="date" id="endDate" name="endDate" value="<%= trip.endDate ? trip.endDate.toISOString().slice(0,10) : '' %>"/>


        <label for="highlights">Highlights:</label>
        <textarea id="highlights" name="highlights" rows="4"  ><%= trip.highlights %>
            placeholder="Favorite moments, best time for visit this place, places you visited, people you met..."></textarea>

        <label for="photosLink">Photos link:</label>
        <input type="url" id="photosLink" name="photosLink" value="<%= trip.photosLink %>"
        placeholder="link to photo album, instagram, google photos.." />

        <label for="rating">Rating (1â€“5):</label>
        <input type="number" id="rating" name="rating" min="1" max="5" value="<%= trip.rating %>"
        placeholder="5" />

        <button type="submit">Update</button>
        </form>
</body>
</html>